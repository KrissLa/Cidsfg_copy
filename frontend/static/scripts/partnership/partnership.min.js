!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).LazyLoad=t()}(this,function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var t="undefined"!=typeof window,n=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),r=t&&"IntersectionObserver"in window,a=t&&"classList"in document.createElement("p"),o=t&&window.devicePixelRatio>1,s={elements_selector:".lazy",container:n||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},i=function(t){return e({},s,t)},l=function(e,t){var n,r="LazyLoad::Initialized",a=new e(t);try{n=new CustomEvent(r,{detail:{instance:a}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,{instance:a})}window.dispatchEvent(n)},c="loading",d="loaded",u="applied",p="error",m="native",f=function(e,t){return e.getAttribute("data-"+t)},v=function(e){return f(e,"ll-status")},h=function(e,t){return function(e,t,n){var r="data-ll-status";null!==n?e.setAttribute(r,n):e.removeAttribute(r)}(e,0,t)},g=function(e){return h(e,null)},y=function(e){return null===v(e)},_=function(e){return v(e)===m},b=[c,d,u,p],L=function(e,t,n,r){e&&(void 0===r?void 0===n?e(t):e(t,n):e(t,n,r))},S=function(e,t){a?e.classList.add(t):e.className+=(e.className?" ":"")+t},E=function(e,t){a?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},q=function(e){return e.llTempImage},A=function(e,t){if(t){var n=t._observer;n&&n.unobserve(e)}},w=function(e,t){e&&(e.loadingCount+=t)},C=function(e,t){e&&(e.toLoadCount=t)},M=function(e){for(var t,n=[],r=0;t=e.children[r];r+=1)"SOURCE"===t.tagName&&n.push(t);return n},I=function(e,t,n){n&&e.setAttribute(t,n)},x=function(e,t){e.removeAttribute(t)},k=function(e){return!!e.llOriginalAttrs},N=function(e){if(!k(e)){var t={};t.src=e.getAttribute("src"),t.srcset=e.getAttribute("srcset"),t.sizes=e.getAttribute("sizes"),e.llOriginalAttrs=t}},T=function(e){if(k(e)){var t=e.llOriginalAttrs;I(e,"src",t.src),I(e,"srcset",t.srcset),I(e,"sizes",t.sizes)}},O=function(e,t){I(e,"sizes",f(e,t.data_sizes)),I(e,"srcset",f(e,t.data_srcset)),I(e,"src",f(e,t.data_src))},z=function(e){x(e,"src"),x(e,"srcset"),x(e,"sizes")},$=function(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&M(n).forEach(t)},V={IMG:function(e,t){$(e,function(e){N(e),O(e,t)}),N(e),O(e,t)},IFRAME:function(e,t){I(e,"src",f(e,t.data_src))},VIDEO:function(e,t){!function(e,n){M(e).forEach(function(e){I(e,"src",f(e,t.data_src))})}(e),I(e,"poster",f(e,t.data_poster)),I(e,"src",f(e,t.data_src)),e.load()}},j=function(e,t){var n=V[e.tagName];n&&n(e,t)},D=function(e,t,n){w(n,1),S(e,t.class_loading),h(e,c),L(t.callback_loading,e,n)},F=["IMG","IFRAME","VIDEO"],H=function(e,t){!t||t.loadingCount>0||t.toLoadCount>0||L(e.callback_finish,t)},R=function(e,t,n){e.addEventListener(t,n),e.llEvLisnrs[t]=n},P=function(e,t,n){e.removeEventListener(t,n)},U=function(e){return!!e.llEvLisnrs},B=function(e){if(U(e)){var t=e.llEvLisnrs;for(var n in t){var r=t[n];P(e,n,r)}delete e.llEvLisnrs}},G=function(e,t,n){!function(e){delete e.llTempImage}(e),w(n,-1),n&&(n.toLoadCount-=1),E(e,t.class_loading),t.unobserve_completed&&A(e,n)},J=function(e,t,n){var r=q(e)||e;U(r)||function(e,t,n){U(e)||(e.llEvLisnrs={});var r="VIDEO"===e.tagName?"loadeddata":"load";R(e,r,t),R(e,"error",n)}(r,function(a){!function(e,t,n,r){var a=_(t);G(t,n,r),S(t,n.class_loaded),h(t,d),L(n.callback_loaded,t,r),a||H(n,r)}(0,e,t,n),B(r)},function(a){!function(e,t,n,r){var a=_(t);G(t,n,r),S(t,n.class_error),h(t,p),L(n.callback_error,t,r),a||H(n,r)}(0,e,t,n),B(r)})},W=function(e,t,n){!function(e){return F.indexOf(e.tagName)>-1}(e)?function(e,t,n){!function(e){e.llTempImage=document.createElement("IMG")}(e),J(e,t,n),function(e,t,n){var r=f(e,t.data_bg),a=f(e,t.data_bg_hidpi),s=o&&a?a:r;s&&(e.style.backgroundImage='url("'.concat(s,'")'),q(e).setAttribute("src",s),D(e,t,n))}(e,t,n),function(e,t,n){var r=f(e,t.data_bg_multi),a=f(e,t.data_bg_multi_hidpi),s=o&&a?a:r;s&&(e.style.backgroundImage=s,function(e,t,n){S(e,t.class_applied),h(e,u),t.unobserve_completed&&A(e,t),L(t.callback_applied,e,n)}(e,t,n))}(e,t,n)}(e,t,n):function(e,t,n){J(e,t,n),j(e,t),D(e,t,n)}(e,t,n)},Y=["IMG","IFRAME"],K=function(e){return e.use_native&&"loading"in HTMLImageElement.prototype},Q=function(e){return Array.prototype.slice.call(e)},X=function(e){return e.container.querySelectorAll(e.elements_selector)},Z=function(e){return function(e){return v(e)===p}(e)},ee=function(e,t){return function(e){return Q(e).filter(y)}(e||X(t))},te=function(e,n){var a=i(e);this._settings=a,this.loadingCount=0,function(e,t){r&&!K(e)&&(t._observer=new IntersectionObserver(function(n){!function(e,t,n){e.forEach(function(e){return function(e){return e.isIntersecting||e.intersectionRatio>0}(e)?function(e,t,n,r){h(e,"entered"),S(e,n.class_entered),E(e,n.class_exited),function(e,t,n){t.unobserve_entered&&A(e,n)}(e,n,r),L(n.callback_enter,e,t,r),function(e){return b.indexOf(v(e))>=0}(e)||W(e,n,r)}(e.target,e,t,n):function(e,t,n,r){y(e)||(S(e,n.class_exited),function(e,t,n,r){n.cancel_on_exit&&function(e){return v(e)===c}(e)&&"IMG"===e.tagName&&(B(e),function(e){$(e,function(e){z(e)}),z(e)}(e),function(e){$(e,function(e){T(e)}),T(e)}(e),E(e,n.class_loading),w(r,-1),g(e),L(n.callback_cancel,e,t,r))}(e,t,n,r),L(n.callback_exit,e,t,r))}(e.target,e,t,n)})}(n,e,t)},function(e){return{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}}(e)))}(a,this),function(e,n){t&&window.addEventListener("online",function(){!function(e,t){var n;(n=X(e),Q(n).filter(Z)).forEach(function(t){E(t,e.class_error),g(t)}),t.update()}(e,n)})}(a,this),this.update(n)};return te.prototype={update:function(e){var t,a,o=this._settings,s=ee(e,o);C(this,s.length),!n&&r?K(o)?function(e,t,n){s.forEach(function(e){-1!==Y.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),function(e,t,n){J(e,t,n),j(e,t),h(e,m)}(e,t,n))}),C(n,0)}(0,o,this):(a=s,function(e){e.disconnect()}(t=this._observer),function(e,t){a.forEach(function(t){e.observe(t)})}(t)):this.loadAll(s)},destroy:function(){this._observer&&this._observer.disconnect(),X(this._settings).forEach(function(e){delete e.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,n=this._settings;ee(e,n).forEach(function(e){A(e,t),W(e,n,t)})}},te.load=function(e,t){var n=i(t);W(e,n)},te.resetStatus=function(e){g(e)},t&&function(e,t){if(t)if(t.length)for(var n,r=0;n=t[r];r+=1)l(e,n);else l(e,t)}(te,window.lazyLoadOptions),te});const lazyLoadInstance=new LazyLoad({});window.addEventListener("scroll",()=>{document.querySelector("html").classList.contains("hystmodal__opened")||document.querySelector("header").classList.toggle("sticky",window.scrollY>0)});const hamburger=document.querySelector(".hamburger"),menuUl=document.querySelector("header ul.main"),body=document.querySelector("body"),toggleMenuClassActive=()=>{hamburger.classList.toggle("active"),menuUl.classList.toggle("active"),body.classList.toggle("menu-active")};hamburger.addEventListener("click",toggleMenuClassActive);const dropdownMenuItems=document.querySelectorAll(".dropdown-big"),removeClass=(e,t)=>{e.classList.contains(t)&&e.classList.remove(t)},addClass=(e,t)=>{e.classList.contains(t)||e.classList.add(t)},setLiHeight=e=>{const t=e.querySelectorAll(".ddb-li-body"),n=Array.prototype.slice.call(t).map(e=>e.offsetHeight),r=Math.max(...n);t.forEach(e=>e.style.height=`${r}px`)},showDropdown=(e,t)=>{addClass(e,"active"),addClass(t,"active"),setLiHeight(e)},hideDropdown=(e,t)=>{e.classList.contains("mouse-in")||(removeClass(e,"active"),removeClass(t,"active"))},mouseInDropdown=(e,t)=>{e.addEventListener("mouseenter",()=>addClass(e,"mouse-in")),e.addEventListener("mouseleave",()=>{removeClass(e,"mouse-in"),removeClass(e,"active"),removeClass(t,"active")})};dropdownMenuItems.forEach(e=>{const t=document.querySelector(`#${e.getAttribute("data-for")}`);e.addEventListener("mouseenter",()=>showDropdown(t,e)),e.addEventListener("mouseleave",()=>mouseInDropdown(t,e)),e.addEventListener("mouseleave",()=>setTimeout(hideDropdown,300,t,e))});const MessageAddUrl=`${window.location.origin}/nobots/api/v1/contact_forms/cooperation_application/add/`,inputSelects=document.querySelectorAll(".input.select"),form=document.querySelector("#form"),sendMessageButton=document.querySelector("#send-message"),spinner=sendMessageButton.querySelector(".spinner"),selectArea=document.querySelector("#select-activity").parentNode,selectType=document.querySelector("#select-type-wrapper"),inputsAddAnimation=()=>{inputs.forEach(e=>{let t=e.querySelector("input");t||(t=e.querySelector("textarea")),t.addEventListener("focus",t=>{e.classList.add("focus"),e.classList.add("focus-line")}),t.addEventListener("blur",n=>{t.value||e.classList.remove("focus"),blurLine(e,400)})})},inputCompanyName='<div class="input">\n                            <input data-required="data-required" data-length type="text" name="company-name" id="company-name"\n                                   class="text-input">\n                            <label for="company-name" class="input-label">Название компании*</label>\n                        </div>',blurLine=(e,t)=>{e.classList.add("blur-line"),e.classList.remove("focus-line"),setTimeout(()=>{e.classList.add("jump"),e.classList.remove("blur-line"),setTimeout(()=>{e.classList.remove("jump")},50)},t)},showSpinner=()=>{spinner.classList.remove("hide"),spinner.classList.add("show")},hideSpinner=()=>{spinner.classList.add("hide"),spinner.classList.remove("show")},choicesButtons=document.querySelectorAll(".choices div"),hasErrorMessage=e=>!!e.querySelector(".error-messaage"),showErrorMessage=(e,t)=>{hasErrorMessage(e.parentNode)||e.insertAdjacentHTML("afterEnd",`<span class="error-messaage">${t}</span>`)},showErrorMessageSelect=(e,t)=>{hasErrorMessage(e)||e.insertAdjacentHTML("afterbegin",`<span class="error-messaage">${t}</span>`)},hideErrorMessage=e=>{hasErrorMessage(e.parentNode)&&e.parentNode.querySelector(".error-messaage").parentNode.removeChild(e.parentNode.querySelector(".error-messaage"))},hideErrorMessageSelect=e=>{hasErrorMessage(e)&&e.removeChild(e.querySelector(".error-messaage"))},showValidationError=(e,t)=>{hideSpinner(),e.classList.add("error"),showErrorMessage(e,t)},showValidationErrorSelect=(e,t)=>{hideSpinner(),e.classList.add("error"),showErrorMessageSelect(e,t)},selectIsValid=e=>{const t=e.querySelector("span[data-placeholder]");return t.getAttribute("data-placeholder")!==t.textContent||(showValidationErrorSelect(e,"Это обязательное поле!"),addEventInputSelect(e),!1)},addEventInput=e=>{e.addEventListener("input",()=>{e.classList.remove("error"),hideErrorMessage(e)})},addEventInputSelect=e=>{e.addEventListener("click",()=>{e.classList.remove("error"),hideErrorMessageSelect(e)})},validationRequired=()=>{let e=[];return form.querySelectorAll('[data-required="data-required"]').forEach(t=>{t.value||(showValidationError(t,"Это обязательное поле!"),addEventInput(t),e.push(!1))}),!e.includes(!1)},validationLength=()=>{let e=[];return lengthFields.forEach(t=>(t.value.length>254&&(showValidationError(t,"Максимальная длина 255 символов!"),addEventInput(t),e.push(!1)),!0)),!e.includes(!1)},validationPhone=e=>{return!(!/^[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(e.value)&&e.value)||(showValidationError(e,"Пожалуйста, введите действительный номер телефона"),addEventInput(e),!1)},validationEmail=e=>{return!!/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/.test(e.value)||(showValidationError(e,"Пожалуйста, введите действительный e-mail"),addEventInput(e),!1)},validationSelect=()=>{let e=[];return inputSelects.forEach(t=>{e.push(selectIsValid(t))}),!e.includes(!1)},validationChoices=()=>{const e=document.querySelector(".choices div.active").getAttribute("data-key");return"whatsapp"===e?validationPhone(form.querySelector("#input-whatsapp")):"phone"===e?validationPhone(form.querySelector("#input-phone")):"email"!==e||validationEmail(form.querySelector("#input-email"))},prohibitLetterEntry=e=>{e.addEventListener("input",e=>{e.target.value.match(/[^0-9]/g)&&(e.target.value=e.target.value.replace(/[^0-9]/g,""))})},formIsValid=()=>{const e=validationRequired(),t=validationLength(),n=validationChoices(),r=validationSelect();return e&&t&&n&&r};let requiredFields=form.querySelectorAll('[data-required="data-required"]'),lengthFields=form.querySelectorAll("[data-length]"),inputs=form.querySelectorAll(".input:not(.select)");inputSelects.forEach(e=>{e.querySelector("select").style.display="none",e.querySelectorAll("option").forEach((t,n)=>{if(0!==n)e.querySelector("div").insertAdjacentHTML("beforeend",`<span class="sel__box__options">${t.textContent}`);else{e.insertAdjacentHTML("afterbegin",'<div class="sel__box"></div>');const n=t.textContent;e.insertAdjacentHTML("afterbegin",`<span data-placeholder="${n}" class="sel__placeholder">${n}</span>`)}})}),inputSelects.forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")})});const options=document.querySelectorAll(".sel__box__options");options.forEach((e,t)=>{e.addEventListener("click",()=>{const t=e.textContent;e.closest(".input.select").querySelectorAll(".sel__box__options").forEach(e=>e.classList.remove("selected")),e.classList.add("selected"),e.closest(".input.select").querySelector(".sel__placeholder").textContent=t})}),document.querySelector("body").addEventListener("click",e=>{inputSelects.forEach(t=>{console.log(e.target.parentNode.parentNode),console.log(e.target),e.target!==t&&e.target.parentNode.parentNode!==t&&t.classList.contains("active")&&t.classList.remove("active")})}),selectType.addEventListener("click",()=>{"компания"===selectType.querySelector("span[data-placeholder]").textContent?document.querySelector("#company-name")||(selectType.insertAdjacentHTML("afterend",inputCompanyName),inputs=form.querySelectorAll(".input:not(.select)"),requiredFields=form.querySelectorAll('[data-required="data-required"]'),lengthFields=form.querySelectorAll("[data-length]"),inputsAddAnimation()):document.querySelector("#company-name")&&(form.removeChild(form.querySelector("#company-name").parentNode),inputs=form.querySelectorAll(".input:not(.select)"),requiredFields=form.querySelectorAll('[data-required="data-required"]'),lengthFields=form.querySelectorAll("[data-length]"),inputsAddAnimation())}),choicesButtons.forEach(e=>{e.addEventListener("click",()=>{if(!e.classList.contains("active")){const t=document.querySelector(".choices .active"),n=t.getAttribute("data-key"),r=e.getAttribute("data-key");document.querySelector(`[data-value="${n}"]`).classList.remove("active"),document.querySelector(`[data-value="${n}"] input`).removeAttribute("data-required"),t.classList.remove("active","b-shadow"),e.classList.add("active","b-shadow"),document.querySelector(`[data-value="${r}"]`).classList.add("active"),document.querySelector(`[data-value="${r}"] input`).setAttribute("data-required","data-required")}})}),inputsAddAnimation(),prohibitLetterEntry(form.querySelector("#input-whatsapp")),prohibitLetterEntry(form.querySelector("#input-phone")),sendMessageButton.addEventListener("click",e=>{if(e.preventDefault(),document.querySelector("#error-server-message").classList.contains("show")&&document.querySelector("#error-server-message").classList.remove("show"),spinner.classList.remove("hide"),spinner.classList.add("show"),formIsValid()){let e,t;const n=document.querySelector(".choices div.active").getAttribute("data-key");"whatsapp"===n?(e="Whatsapp",t=form.querySelector("#input-whatsapp").value):"telegram"===n?(e="Telegram",t=form.querySelector("#input-telegram").value):"phone"===n?(e="Мобильный",t=form.querySelector("#input-phone").value):"email"===n&&(e="E-mail",t=form.querySelector("#input-email").value);const r=()=>document.querySelector("#company-name")?{area_of_activity:selectArea.querySelector("span[data-placeholder]").textContent,company_type:selectType.querySelector("span[data-placeholder]").textContent,company_name:form.querySelector("#company-name").value,firs_name:form.querySelector("#first-name").value,last_name:form.querySelector("#last-name").value,type_of_contact:e,contact:t}:{area_of_activity:selectArea.querySelector("span[data-placeholder]").textContent,company_type:selectType.querySelector("span[data-placeholder]").textContent,firs_name:form.querySelector("#first-name").value,last_name:form.querySelector("#last-name").value,type_of_contact:e,contact:t};fetch(MessageAddUrl,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r())}).then(e=>{e.ok?(form.reset(),form.style.display="none",document.querySelector("#success-message").classList.add("show")):(document.querySelector("#error-server-message").classList.add("show"),hideSpinner())}).catch(()=>{document.querySelector("#error-server-message").style.display="block",hideSpinner()}).finally(()=>{})}});