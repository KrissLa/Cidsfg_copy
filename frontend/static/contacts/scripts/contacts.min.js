!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).LazyLoad=t()}(this,function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var t="undefined"!=typeof window,n=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),r=t&&"IntersectionObserver"in window,a=t&&"classList"in document.createElement("p"),o=t&&window.devicePixelRatio>1,s={elements_selector:".lazy",container:n||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},i=function(t){return e({},s,t)},c=function(e,t){var n,r="LazyLoad::Initialized",a=new e(t);try{n=new CustomEvent(r,{detail:{instance:a}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,{instance:a})}window.dispatchEvent(n)},l="loading",u="loaded",d="applied",f="error",m="native",v=function(e,t){return e.getAttribute("data-"+t)},p=function(e){return v(e,"ll-status")},h=function(e,t){return function(e,t,n){var r="data-ll-status";null!==n?e.setAttribute(r,n):e.removeAttribute(r)}(e,0,t)},g=function(e){return h(e,null)},y=function(e){return null===p(e)},b=function(e){return p(e)===m},_=[l,u,d,f],L=function(e,t,n,r){e&&(void 0===r?void 0===n?e(t):e(t,n):e(t,n,r))},E=function(e,t){a?e.classList.add(t):e.className+=(e.className?" ":"")+t},w=function(e,t){a?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},S=function(e){return e.llTempImage},q=function(e,t){if(t){var n=t._observer;n&&n.unobserve(e)}},A=function(e,t){e&&(e.loadingCount+=t)},I=function(e,t){e&&(e.toLoadCount=t)},C=function(e){for(var t,n=[],r=0;t=e.children[r];r+=1)"SOURCE"===t.tagName&&n.push(t);return n},k=function(e,t,n){n&&e.setAttribute(t,n)},M=function(e,t){e.removeAttribute(t)},x=function(e){return!!e.llOriginalAttrs},O=function(e){if(!x(e)){var t={};t.src=e.getAttribute("src"),t.srcset=e.getAttribute("srcset"),t.sizes=e.getAttribute("sizes"),e.llOriginalAttrs=t}},N=function(e){if(x(e)){var t=e.llOriginalAttrs;k(e,"src",t.src),k(e,"srcset",t.srcset),k(e,"sizes",t.sizes)}},z=function(e,t){k(e,"sizes",v(e,t.data_sizes)),k(e,"srcset",v(e,t.data_srcset)),k(e,"src",v(e,t.data_src))},T=function(e){M(e,"src"),M(e,"srcset"),M(e,"sizes")},$=function(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&C(n).forEach(t)},D={IMG:function(e,t){$(e,function(e){O(e),z(e,t)}),O(e),z(e,t)},IFRAME:function(e,t){k(e,"src",v(e,t.data_src))},VIDEO:function(e,t){!function(e,n){C(e).forEach(function(e){k(e,"src",v(e,t.data_src))})}(e),k(e,"poster",v(e,t.data_poster)),k(e,"src",v(e,t.data_src)),e.load()}},R=function(e,t){var n=D[e.tagName];n&&n(e,t)},V=function(e,t,n){A(n,1),E(e,t.class_loading),h(e,l),L(t.callback_loading,e,n)},j=["IMG","IFRAME","VIDEO"],P=function(e,t){!t||t.loadingCount>0||t.toLoadCount>0||L(e.callback_finish,t)},U=function(e,t,n){e.addEventListener(t,n),e.llEvLisnrs[t]=n},B=function(e,t,n){e.removeEventListener(t,n)},F=function(e){return!!e.llEvLisnrs},G=function(e){if(F(e)){var t=e.llEvLisnrs;for(var n in t){var r=t[n];B(e,n,r)}delete e.llEvLisnrs}},H=function(e,t,n){!function(e){delete e.llTempImage}(e),A(n,-1),n&&(n.toLoadCount-=1),w(e,t.class_loading),t.unobserve_completed&&q(e,n)},J=function(e,t,n){var r=S(e)||e;F(r)||function(e,t,n){F(e)||(e.llEvLisnrs={});var r="VIDEO"===e.tagName?"loadeddata":"load";U(e,r,t),U(e,"error",n)}(r,function(a){!function(e,t,n,r){var a=b(t);H(t,n,r),E(t,n.class_loaded),h(t,u),L(n.callback_loaded,t,r),a||P(n,r)}(0,e,t,n),G(r)},function(a){!function(e,t,n,r){var a=b(t);H(t,n,r),E(t,n.class_error),h(t,f),L(n.callback_error,t,r),a||P(n,r)}(0,e,t,n),G(r)})},W=function(e,t,n){!function(e){return j.indexOf(e.tagName)>-1}(e)?function(e,t,n){!function(e){e.llTempImage=document.createElement("IMG")}(e),J(e,t,n),function(e,t,n){var r=v(e,t.data_bg),a=v(e,t.data_bg_hidpi),s=o&&a?a:r;s&&(e.style.backgroundImage='url("'.concat(s,'")'),S(e).setAttribute("src",s),V(e,t,n))}(e,t,n),function(e,t,n){var r=v(e,t.data_bg_multi),a=v(e,t.data_bg_multi_hidpi),s=o&&a?a:r;s&&(e.style.backgroundImage=s,function(e,t,n){E(e,t.class_applied),h(e,d),t.unobserve_completed&&q(e,t),L(t.callback_applied,e,n)}(e,t,n))}(e,t,n)}(e,t,n):function(e,t,n){J(e,t,n),R(e,t),V(e,t,n)}(e,t,n)},Y=["IMG","IFRAME"],K=function(e){return e.use_native&&"loading"in HTMLImageElement.prototype},Q=function(e){return Array.prototype.slice.call(e)},X=function(e){return e.container.querySelectorAll(e.elements_selector)},Z=function(e){return function(e){return p(e)===f}(e)},ee=function(e,t){return function(e){return Q(e).filter(y)}(e||X(t))},te=function(e,n){var a=i(e);this._settings=a,this.loadingCount=0,function(e,t){r&&!K(e)&&(t._observer=new IntersectionObserver(function(n){!function(e,t,n){e.forEach(function(e){return function(e){return e.isIntersecting||e.intersectionRatio>0}(e)?function(e,t,n,r){h(e,"entered"),E(e,n.class_entered),w(e,n.class_exited),function(e,t,n){t.unobserve_entered&&q(e,n)}(e,n,r),L(n.callback_enter,e,t,r),function(e){return _.indexOf(p(e))>=0}(e)||W(e,n,r)}(e.target,e,t,n):function(e,t,n,r){y(e)||(E(e,n.class_exited),function(e,t,n,r){n.cancel_on_exit&&function(e){return p(e)===l}(e)&&"IMG"===e.tagName&&(G(e),function(e){$(e,function(e){T(e)}),T(e)}(e),function(e){$(e,function(e){N(e)}),N(e)}(e),w(e,n.class_loading),A(r,-1),g(e),L(n.callback_cancel,e,t,r))}(e,t,n,r),L(n.callback_exit,e,t,r))}(e.target,e,t,n)})}(n,e,t)},function(e){return{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}}(e)))}(a,this),function(e,n){t&&window.addEventListener("online",function(){!function(e,t){var n;(n=X(e),Q(n).filter(Z)).forEach(function(t){w(t,e.class_error),g(t)}),t.update()}(e,n)})}(a,this),this.update(n)};return te.prototype={update:function(e){var t,a,o=this._settings,s=ee(e,o);I(this,s.length),!n&&r?K(o)?function(e,t,n){s.forEach(function(e){-1!==Y.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),function(e,t,n){J(e,t,n),R(e,t),h(e,m)}(e,t,n))}),I(n,0)}(0,o,this):(a=s,function(e){e.disconnect()}(t=this._observer),function(e,t){a.forEach(function(t){e.observe(t)})}(t)):this.loadAll(s)},destroy:function(){this._observer&&this._observer.disconnect(),X(this._settings).forEach(function(e){delete e.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,n=this._settings;ee(e,n).forEach(function(e){q(e,t),W(e,n,t)})}},te.load=function(e,t){var n=i(t);W(e,n)},te.resetStatus=function(e){g(e)},t&&function(e,t){if(t)if(t.length)for(var n,r=0;n=t[r];r+=1)c(e,n);else c(e,t)}(te,window.lazyLoadOptions),te});const lazyLoadInstance=new LazyLoad({});window.addEventListener("scroll",()=>{document.querySelector("header").classList.toggle("sticky",window.scrollY>0)});const hamburger=document.querySelector(".hamburger"),menuUl=document.querySelector("header ul.main"),body=document.querySelector("body"),toggleMenuClassActive=()=>{hamburger.classList.toggle("active"),menuUl.classList.toggle("active"),body.classList.toggle("menu-active")};hamburger.addEventListener("click",toggleMenuClassActive);const dropdownMenuItems=document.querySelectorAll(".dropdown-big"),removeClass=(e,t)=>{e.classList.contains(t)&&e.classList.remove(t)},addClass=(e,t)=>{e.classList.contains(t)||e.classList.add(t)},setLiHeight=e=>{const t=e.querySelectorAll(".ddb-li-body"),n=Array.prototype.slice.call(t).map(e=>e.offsetHeight),r=Math.max(...n);t.forEach(e=>e.style.height=`${r}px`)},showDropdown=(e,t)=>{addClass(e,"active"),addClass(t,"active"),setLiHeight(e)},hideDropdown=(e,t)=>{e.classList.contains("mouse-in")||(removeClass(e,"active"),removeClass(t,"active"))},mouseInDropdown=(e,t)=>{e.addEventListener("mouseenter",()=>addClass(e,"mouse-in")),e.addEventListener("mouseleave",()=>{removeClass(e,"mouse-in"),removeClass(e,"active"),removeClass(t,"active")})};dropdownMenuItems.forEach(e=>{const t=document.querySelector(`#${e.getAttribute("data-for")}`);e.addEventListener("mouseenter",()=>showDropdown(t,e)),e.addEventListener("mouseleave",()=>mouseInDropdown(t,e)),e.addEventListener("mouseleave",()=>setTimeout(hideDropdown,300,t,e))});const form=document.querySelector("#form"),lengthFields=form.querySelectorAll("[data-length]"),inputs=form.querySelectorAll(".input"),sendMessageButton=document.querySelector("#send-message"),spinner=sendMessageButton.querySelector(".spinner"),hideAfterSendElements=form.querySelectorAll(".hide-after-send"),MessageAddUrl=`${window.location.origin}/nobots/api/v1/contacts/add/`,choicesButtons=document.querySelectorAll(".choices div"),blurLine=(e,t)=>{e.classList.add("blur-line"),e.classList.remove("focus-line"),setTimeout(()=>{e.classList.add("jump"),e.classList.remove("blur-line"),setTimeout(()=>{e.classList.remove("jump")},50)},t)},showSpinner=()=>{spinner.classList.remove("hide"),spinner.classList.add("show")},hideSpinner=()=>{spinner.classList.add("hide"),spinner.classList.remove("show")},hasErrorMessage=e=>!!e.querySelector(".error-messaage"),showErrorMessage=(e,t)=>{hasErrorMessage(e.parentNode)||e.insertAdjacentHTML("afterEnd",`<span class="error-messaage">${t}</span>`)},hideErrorMessage=e=>{hasErrorMessage(e.parentNode)&&e.parentNode.querySelector(".error-messaage").parentNode.removeChild(e.parentNode.querySelector(".error-messaage"))},showValidationError=(e,t)=>{hideSpinner(),e.classList.add("error"),showErrorMessage(e,t)},addEventInput=e=>{e.addEventListener("input",()=>{e.classList.remove("error"),hideErrorMessage(e)})},validationRequired=()=>{let e=[];return form.querySelectorAll('[data-required="data-required"]').forEach(t=>{t.value||(showValidationError(t,"Это обязательное поле!"),addEventInput(t),e.push(!1))}),!e.includes(!1)},validationLength=()=>{let e=[];return lengthFields.forEach(t=>(t.value.length>254&&(showValidationError(t,"Максимальная длина 255 символов!"),addEventInput(t),e.push(!1)),!0)),!e.includes(!1)},validationPhone=e=>{return!!/^[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(e.value)||(showValidationError(e,"Пожалуйста, введите действительный номер телефона"),addEventInput(e),!1)},validationEmail=e=>{return!!/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/.test(e.value)||(showValidationError(e,"Пожалуйста, введите действительный e-mail"),addEventInput(e),!1)},validationChoices=()=>{const e=document.querySelector(".choices div.active").getAttribute("data-key");return"whatsapp"===e?validationPhone(form.querySelector("#input-whatsapp")):"phone"===e?validationPhone(form.querySelector("#input-phone")):"email"!==e||validationEmail(form.querySelector("#input-email"))},prohibitLetterEntry=e=>{e.addEventListener("input",e=>{e.target.value.match(/[^0-9]/g)&&(e.target.value=e.target.value.replace(/[^0-9]/g,""))})},formIsValid=()=>{const e=validationRequired(),t=validationLength(),n=validationChoices();return e&&n&&t};choicesButtons.forEach(e=>{e.addEventListener("click",()=>{if(!e.classList.contains("active")){const t=document.querySelector(".choices .active"),n=t.getAttribute("data-key"),r=e.getAttribute("data-key");document.querySelector(`[data-value="${n}"]`).classList.remove("active"),document.querySelector(`[data-value="${n}"] input`).removeAttribute("data-required"),t.classList.remove("active","b-shadow"),e.classList.add("active","b-shadow"),document.querySelector(`[data-value="${r}"]`).classList.add("active"),document.querySelector(`[data-value="${r}"] input`).setAttribute("data-required","data-required")}})}),inputs.forEach(e=>{let t=e.querySelector("input");t||(t=e.querySelector("textarea")),t.addEventListener("focus",t=>{e.classList.add("focus"),e.classList.add("focus-line")}),t.addEventListener("blur",n=>{t.value||e.classList.remove("focus"),blurLine(e,400)})}),prohibitLetterEntry(form.querySelector("#input-whatsapp")),prohibitLetterEntry(form.querySelector("#input-phone")),sendMessageButton.addEventListener("click",e=>{if(e.preventDefault(),document.querySelector("#error-server-message").classList.contains("show")&&document.querySelector("#error-server-message").classList.remove("show"),spinner.classList.remove("hide"),spinner.classList.add("show"),formIsValid()){let e,t;const n=document.querySelector(".choices div.active").getAttribute("data-key");"whatsapp"===n?(e="Whatsapp",t=form.querySelector("#input-whatsapp").value):"telegram"===n?(e="Telegram",t=form.querySelector("#input-telegram").value):"phone"===n?(e="Мобильный",t=form.querySelector("#input-phone").value):"email"===n&&(e="E-mail",t=form.querySelector("#input-email").value);const r={username:form.querySelector("#input-name").value,type_of_contact:e,contact:t,message:form.querySelector("#input-comment").value};fetch(MessageAddUrl,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)}).then(e=>{e.ok?(form.reset(),form.style.display="none",document.querySelector("#success-message").classList.add("show")):(document.querySelector("#error-server-message").classList.add("show"),hideSpinner())}).catch(()=>{document.querySelector("#error-server-message").style.display="block",hideSpinner()}).finally(()=>{})}});